{% load static %}

<!DOCTYPE html>
<html>
<head>
    <title>Home Service Platform</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <style>
      html, body {
        overflow-x: hidden;
      }
      .full-height {
        min-height: calc(100vh - 80px);
      }
      .content-wrapper {
        padding-top: 50px;
      }
      .content-wrapper.with-footer {
        padding-bottom: 180px;
        min-height: calc(100vh - 80px);
      }
    </style>
</head>
<body>
<nav class="navbar navbar-dark bg-primary px-3  fixed-top">
    <div class="d-flex align-items-center">
    <a class="navbar-brand d-flex align-items-center" href="/">
      <img src="{% static 'images/gharsewa.jpeg' %}" alt="Ghar Sewa Logo" height="50" class="me-2 rounded">
      <span>Ghar Sewa</span>
    </a>
  </div>
    <div class="d-flex flex-wrap gap-2 align-items-center">
        {% if user.is_authenticated %}
            {% if user.is_superuser %}
                <a href="{% url 'dashboard_home' %}" class="btn btn-success btn-sm">Dashboard</a>
            {% endif %}
            {% if user.is_provider %}
                <a href="{% url 'provider_bookings' %}" class="btn btn-info btn-sm">My Service Bookings</a>
            {% endif %}
            {% if user.is_customer %}
                <a href="{% url 'service_providers' %}" class="btn btn-info btn-sm">Service Providers</a>
            {% endif %}
            <a href="/bookings/my-bookings/" class="btn btn-light btn-sm">My Bookings</a>
            <a href="{% url 'profile' %}" class="btn btn-outline-light btn-sm">
                {% if user.profile_picture %}
                    <img src="{{ user.profile_picture.url }}" alt="Profile" class="rounded-circle me-1" style="width: 20px; height: 20px; object-fit: cover;">
                {% else %}
                    <i class="bi bi-person-circle"></i>
                {% endif %}
                Profile
            </a>
            <a href="{% url 'logout' %}" class="btn btn-danger btn-sm">Logout</a>
        {% else %}
            <a href="/accounts/login/" class="btn btn-light btn-sm">Login</a>
            <a href="/accounts/register/" class="btn btn-warning btn-sm">Register</a>
        {% endif %}
    </div>
</nav>
<div class="container mt-4 content-wrapper {% if request.resolver_match.url_name != 'home' and request.resolver_match.url_name != 'profile' and request.resolver_match.url_name != 'edit_profile' and request.resolver_match.url_name != 'login' and request.resolver_match.url_name != 'register' %}with-footer{% endif %}">
    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        {% endfor %}
    {% endif %}
    {% block content %}{% endblock %}
</div>

{% if request.resolver_match.url_name != 'profile' and request.resolver_match.url_name != 'edit_profile' and request.resolver_match.url_name != 'login' and request.resolver_match.url_name != 'register' %}
{% include 'partials_footer.html' %}
{% endif %}

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
